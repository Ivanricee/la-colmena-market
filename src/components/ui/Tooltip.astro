---
// Tooltip.astro
const { content, position = 'top' } = Astro.props
const anchorDirection = `x-anchor.${position}.offset.10.no-flip.track`
---

<template x-teleport="body">
  <div
    x-show="state.show"
    {...{ [anchorDirection]: 'anchorRef' }}
    role="tooltip"
    class="pointer-events-none fixed z-[70] rounded bg-black px-3 py-2 text-xs text-white shadow-xl"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 scale-90 translate-y-1"
    x-transition:enter-end="opacity-100 scale-100 translate-y-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 scale-100"
    x-transition:leave-end="opacity-0 scale-90 translate-y-1"
  >
    <span class="relative z-10">{content}</span>

    <div x-anchor-arrow class="bg-black w-2.5 h-2.5 rotate-45"></div>
  </div>
</template>
