---
import { Image } from '../products.model'

interface Props {
  images: Image[] | []
}
const { images } = Astro.props
---

<div id="indicators-carousel" class="relative w-full h-full overflow-hidden" data-carousel="static">
  <!-- Carousel wrapper -->
  <div class="rounded-base relative h-full">
    {
      images.length > 0 ? (
        images.map((image, index) => (
          <div class="hidden duration-700 ease-in-out" data-carousel-item={index === 0 ? "active" : ""}>
            <img
              src={image.secure_url}
              class:list={[
                  'drop-shadow-honey-dark/50 h-full w-full',
                  '-translate-y-3t object-contain object-top drop-shadow-lg',
                ]}
              alt={`Product image ${index + 1}`}
            />
          </div>
        ))
      ) : (
        <>
          <!-- Fallback items if no images -->
          <div class="hidden duration-700 ease-in-out" data-carousel-item="active">
            <img
              src="/docs/images/carousel/carousel-1.svg"
              class="absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2"
              alt="..."
            />
          </div>
        </>
      )
    }
  </div>
  <!-- Slider indicators -->
  <div class="absolute bottom-5 left-1/2 z-30 flex -translate-x-1/2 space-x-3 rtl:space-x-reverse">
    {
      images.length > 0 ? (
        images.map((_, index) => (
          <button
            type="button"
            class="rounded-base h-3 w-3"
            aria-current={index === 0 ? "true" : "false"}
            aria-label={`Slide ${index + 1}`}
            data-carousel-slide-to={index}></button>
        ))
      ) : (
        <button
          type="button"
          class="rounded-base h-3 w-3"
          aria-current="true"
          aria-label="Slide 1"
          data-carousel-slide-to="0"></button>
      )
    }

  </div>
  <!-- Slider controls -->
  <button
    type="button"
    class="group absolute start-0 top-0 z-30 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none"
    data-carousel-prev
  >
    <span
      class="rounded-base inline-flex h-10 w-10 items-center justify-center bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"
    >
      <svg
        class="h-5 w-5 text-white rtl:rotate-180"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
        ><path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="m15 19-7-7 7-7"></path></svg
      >
      <span class="sr-only">Previous</span>
    </span>
  </button>
  <button
    type="button"
    class="group absolute end-0 top-0 z-30 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none"
    data-carousel-next
  >
    <span
      class="rounded-base inline-flex h-10 w-10 items-center justify-center bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"
    >
      <svg
        class="h-5 w-5 text-white rtl:rotate-180"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
        ><path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="m9 5 7 7-7 7"></path></svg
      >
      <span class="sr-only">Next</span>
    </span>
  </button>
</div>
