---
import Card from '@/components/ui/Card.astro'
import { getProducts } from './products.api'

const { productos, errorMessage } = await getProducts()
console.log({ productos, errorMessage })
---

{
  errorMessage ? (
    <section>
      <h1>Error</h1>
      <p>{errorMessage}</p>
    </section>
  ) : (
    <section>
      <h1>Productos</h1>
      <ul>
        {productos.map((product) => (
          <li>
            <Card>
              <h2 slot="card-header-title">{product.title}</h2>

              <button slot="card-header-action">close</button>

              <div>
                <p>{product.id}</p>
                {product.image.map((image) => (
                  <img
                    class="rounded-base mb-4 h-64 w-full object-cover md:mb-0 md:h-auto md:w-48"
                    src={image.url}
                    alt=""
                  />
                ))}
                <div class="flex flex-col justify-between leading-normal md:p-4">
                  <h5 class="text-heading mb-2 text-2xl font-bold tracking-tight">
                    Streamlining your design process today.
                  </h5>
                  <p class="text-body mb-6">
                    In todayâ€™s fast-paced digital landscape, fostering seamless collaboration among
                    Developers and IT Operations.
                  </p>
                  <div>
                    <button
                      type="button"
                      class="text-body bg-neutral-secondary-medium border-default-medium hover:bg-neutral-tertiary-medium hover:text-heading focus:ring-neutral-tertiary rounded-base box-border inline-flex w-auto items-center border px-4 py-2.5 text-sm leading-5 font-medium shadow-xs focus:ring-4 focus:outline-none"
                    >
                      Read more
                      <svg
                        class="ms-1.5 -me-0.5 h-4 w-4 rtl:rotate-180"
                        aria-hidden="true"
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        fill="none"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M19 12H5m14 0-4 4m4-4-4-4"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </Card>
          </li>
        ))}
      </ul>
    </section>
  )
}
<h4>deberian aparecer los productos aquji</h4>
